{% extends "base.html" %}
{% load static %}

{% block title %}Home - FutureVote System{% endblock %}

{% block header %}
<style>
    /* --- Global & Hero Styles --- */
    :root {
        --primary-gradient: linear-gradient(135deg, #4361ee 0%, #4cc9f0 100%);
        --glass-bg: rgba(255, 255, 255, 0.05);
        --glass-border: rgba(255, 255, 255, 0.1);
        --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    }

    .hero-section {
        position: relative;
        overflow: hidden;
        padding-top: 40px;
        padding-bottom: 80px;
    }

    /* Ambient Background Glows */
    .ambient-glow {
        position: absolute;
        width: 300px;
        height: 300px;
        background: radial-gradient(circle, rgba(67, 97, 238, 0.4) 0%, rgba(0,0,0,0) 70%);
        border-radius: 50%;
        filter: blur(50px);
        z-index: -1;
        animation: floatOrb 10s infinite alternate;
    }
    .glow-1 { top: -50px; left: -100px; }
    .glow-2 { bottom: 20%; right: -50px; background: radial-gradient(circle, rgba(247, 37, 133, 0.2) 0%, rgba(0,0,0,0) 70%); }

    @keyframes floatOrb {
        0% { transform: translate(0, 0); }
        100% { transform: translate(30px, 50px); }
    }

    /* Typography */
    .hero-title {
        font-size: 4rem;
        font-weight: 800;
        line-height: 1.1;
        background: linear-gradient(to right, #ffffff, #a5b4fc);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 1.5rem;
        letter-spacing: -1.5px;
    }

    .lead-text {
        font-size: 1.25rem;
        color: rgba(255, 255, 255, 0.75);
        font-weight: 300;
        line-height: 1.7;
        max-width: 600px;
    }

    /* --- Glass Cards --- */
    .glass-panel {
        background: var(--glass-bg);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid var(--glass-border);
        border-radius: 24px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        height: 100%;
        position: relative;
        overflow: hidden;
    }

    .glass-panel:hover {
        transform: translateY(-8px);
        border-color: rgba(255, 255, 255, 0.3);
        background: rgba(255, 255, 255, 0.08);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
    }
    
    /* Card Inner Glow on Hover */
    .glass-panel::before {
        content: '';
        position: absolute;
        top: 0; left: -100%;
        width: 100%; height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
        transition: 0.5s;
    }
    .glass-panel:hover::before {
        left: 100%;
    }

    /* --- Buttons --- */
    .btn-hero-primary {
        background: var(--primary-gradient);
        border: none;
        padding: 14px 35px;
        border-radius: 50px;
        color: white;
        font-weight: 600;
        letter-spacing: 0.5px;
        box-shadow: 0 4px 15px rgba(67, 97, 238, 0.4);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        z-index: 1;
    }
    
    .btn-hero-primary::after {
        content: '';
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(90deg, #3a0ca3, #4361ee);
        z-index: -1;
        transition: opacity 0.3s;
        opacity: 0;
    }
    
    .btn-hero-primary:hover::after { opacity: 1; }
    .btn-hero-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(67, 97, 238, 0.6); color: #fff; }

    .btn-hero-outline {
        background: transparent;
        border: 2px solid rgba(255,255,255,0.2);
        padding: 12px 35px;
        border-radius: 50px;
        color: white;
        font-weight: 600;
        transition: 0.3s;
    }
    .btn-hero-outline:hover {
        border-color: #fff;
        background: rgba(255,255,255,0.1);
        color: white;
    }

    /* --- Visual Elements --- */
    .hero-visual-wrapper {
        position: relative;
        height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
        perspective: 1000px;
    }

    .floating-shield {
        font-size: 10rem;
        background: linear-gradient(135deg, #4cc9f0, #4361ee);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        filter: drop-shadow(0 10px 30px rgba(67, 97, 238, 0.5));
        animation: floatShield 6s ease-in-out infinite;
    }

    .orbit-item {
        position: absolute;
        background: rgba(255,255,255,0.1);
        backdrop-filter: blur(5px);
        padding: 10px 15px;
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,0.1);
        display: flex;
        align-items: center;
        gap: 10px;
        color: white;
        font-size: 0.9rem;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        animation: orbitFloat 8s infinite ease-in-out;
    }

    .orbit-1 { top: 20%; left: 10%; animation-delay: 0s; }
    .orbit-2 { bottom: 20%; right: 5%; animation-delay: 2s; }
    .orbit-3 { top: 15%; right: 15%; animation-delay: 4s; }

    @keyframes floatShield {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(2deg); }
    }
    @keyframes orbitFloat {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-15px); }
    }

    /* --- Feature Icons --- */
    .feature-icon-box {
        width: 60px;
        height: 60px;
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.75rem;
        margin-bottom: 20px;
        background: rgba(255,255,255,0.05);
        border: 1px solid rgba(255,255,255,0.1);
    }
    
    .tech-badge {
        background: rgba(255,255,255,0.05);
        border: 1px solid rgba(255,255,255,0.1);
        color: #ddd;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.85rem;
        transition: 0.2s;
    }
    .tech-badge:hover { background: rgba(255,255,255,0.15); color: #fff; }

    /* Quote Strip */
    .quote-container {
        border-left: 3px solid #4361ee;
        padding-left: 20px;
        margin-top: 40px;
    }
    .quote-text {
        font-style: italic;
        color: rgba(255,255,255,0.8);
        font-size: 1.1rem;
    }
</style>

<div class="hero-section">
    <div class="ambient-glow glow-1"></div>
    <div class="ambient-glow glow-2"></div>

    <div class="row align-items-center animate__animated animate__fadeIn">
        
        <div class="col-lg-7 position-relative z-1">
            <div class="pe-lg-5">
                <div class="d-inline-flex align-items-center mb-4 px-3 py-1 rounded-pill border border-secondary bg-dark bg-opacity-50">
                    <span class="badge bg-primary rounded-circle p-1 me-2"><i class="fas fa-check small"></i></span>
                    <span class="text-white-50 small fw-bold text-uppercase">Secure Blockchain Logic</span>
                </div>
                
                <h1 class="hero-title">Voting Reimagined.<br>Transparent & Secure.</h1>
                
                <p class="lead-text mb-5">
                    Experience the future of democracy with our audit-ready, role-based election system. 
                    Built for integrity, designed for simplicity.
                </p>

                <div class="d-flex flex-wrap gap-3 mb-5">
                    {% if user.is_authenticated %}
                        {% if user.role == 'admin' %}
                            <a class="btn-hero-primary text-decoration-none" href="{% url 'admin_dashboard' %}">
                                <i class="fas fa-tachometer-alt me-2"></i>Admin Dashboard
                            </a>
                        {% elif user.role == 'candidate' %}
                            <a class="btn-hero-primary text-decoration-none" href="{% url 'candidate_dashboard' %}">
                                <i class="fas fa-bullhorn me-2"></i>Candidate Hub
                            </a>
                        {% else %}
                            <a class="btn-hero-primary text-decoration-none" href="{% url 'voter_dashboard' %}">
                                <i class="fas fa-vote-yea me-2"></i>Cast Your Vote
                            </a>
                        {% endif %}
                        <a class="btn-hero-outline text-decoration-none" href="{% url 'logout' %}">Sign Out</a>
                    {% else %}
                        <a class="btn-hero-primary text-decoration-none" href="{% url 'login' %}">
                            Get Started <i class="fas fa-arrow-right ms-2"></i>
                        </a>
                        <a class="btn-hero-outline text-decoration-none" href="{% url 'register' %}">Create Account</a>
                    {% endif %}
                </div>

                <div class="quote-container">
                    <p class="quote-text mb-0" id="dynamic-quote">“Your vote is your voice — use it wisely.”</p>
                </div>
            </div>
        </div>

        <div class="col-lg-5 d-none d-lg-block position-relative">
            <div class="hero-visual-wrapper">
                <i class="fas fa-shield-alt floating-shield"></i>
                
                <div class="orbit-item orbit-1">
                    <i class="fas fa-lock text-info"></i>
                    <span>Encrypted Data</span>
                </div>
                
                <div class="orbit-item orbit-2">
                    <i class="fas fa-check-circle text-success"></i>
                    <span>Verified Voters</span>
                </div>

                <div class="orbit-item orbit-3">
                    <i class="fas fa-file-contract text-warning"></i>
                    <span>Audit Logs</span>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}


{% block content %}

<div class="row g-4 mb-5 animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
    
    <div class="col-md-4">
        <div class="glass-panel p-4 p-lg-5">
            <div class="feature-icon-box text-info">
                <i class="fas fa-fingerprint"></i>
            </div>
            <h4 class="fw-bold text-white mb-3">Why Online Voting?</h4>
            <p class="text-white-50">
                Eliminate manual errors and ensure complete accuracy. Our digital validation process guarantees that one person equals exactly one vote.
            </p>
        </div>
    </div>

    <div class="col-md-4">
        <div class="glass-panel p-4 p-lg-5">
            <div class="feature-icon-box text-danger">
                <i class="fas fa-cubes"></i>
            </div>
            <h4 class="fw-bold text-white mb-3">Core Features</h4>
            <ul class="list-unstyled text-white-50 mb-0 d-flex flex-column gap-2">
                <li><i class="fas fa-check text-primary me-2"></i> Role-Based Access</li>
                <li><i class="fas fa-check text-primary me-2"></i> Real-time Tallying</li>
                <li><i class="fas fa-check text-primary me-2"></i> Immutable Logs</li>
                <li><i class="fas fa-check text-primary me-2"></i> Secure Backup</li>
            </ul>
        </div>
    </div>

    <div class="col-md-4">
        <div class="glass-panel p-4 p-lg-5">
            <div class="feature-icon-box text-warning">
                <i class="fas fa-code-branch"></i>
            </div>
            <h4 class="fw-bold text-white mb-3">Powered By</h4>
            <p class="text-white-50 mb-4">
                Built on a robust, scalable stack designed for security and speed.
            </p>
            <div class="d-flex flex-wrap gap-2">
                <span class="tech-badge">Python 3.9</span>
                <span class="tech-badge">Django 4</span>
                <span class="tech-badge">MySQL</span>
                <span class="tech-badge">Bootstrap 5</span>
            </div>
        </div>
    </div>

</div>

<div class="row g-4 mb-5 animate__animated animate__fadeInUp" style="animation-delay: 0.4s;">
    <div class="col-12 mb-2">
        <h3 class="text-white fw-bold"><i class="fas fa-layer-group me-2 text-primary"></i>System Modules</h3>
    </div>

    <div class="col-md-4">
        <div class="glass-panel p-4 text-center">
            <div class="mb-3 opacity-50">
                <i class="fas fa-vote-yea fa-4x text-white"></i>
            </div>
            <h5 class="fw-bold text-white">Voter Portal</h5>
            <p class="text-white-50 small mb-3">Secure registration, profile verification, and seamless vote casting interface.</p>
            <a href="{% url 'voter_dashboard' %}" class="btn btn-sm btn-outline-light rounded-pill px-3">Access Portal</a>
        </div>
    </div>

    <div class="col-md-4">
        <div class="glass-panel p-4 text-center">
            <div class="mb-3 opacity-50">
                <i class="fas fa-user-tie fa-4x text-white"></i>
            </div>
            <h5 class="fw-bold text-white">Candidate Management</h5>
            <p class="text-white-50 small mb-3">Campaign creation, manifesto publishing, and real-time status tracking.</p>
            {% if user.role == 'candidate' %}
            <a href="{% url 'candidate_dashboard' %}" class="btn btn-sm btn-outline-light rounded-pill px-3">Manage Campaigns</a>
            {% endif %}
        </div>
    </div>

    <div class="col-md-4">
        <div class="glass-panel p-4 text-center">
            <div class="mb-3 opacity-50">
                <i class="fas fa-chart-pie fa-4x text-white"></i>
            </div>
            <h5 class="fw-bold text-white">Results & Audit</h5>
            <p class="text-white-50 small mb-3">Transparency first. View election outcomes and verifiable system logs.</p>
            <a href="{% url 'voter_view_results' %}" class="btn btn-sm btn-outline-light rounded-pill px-3">View Results</a>
        </div>
    </div>
</div>

<div class="glass-panel p-3 px-4 d-flex align-items-center justify-content-between mt-5">
    <div class="d-flex align-items-center">
        <i class="fas fa-server text-success me-3 fs-5"></i>
        <div>
            <div class="text-white fw-bold small">System Status</div>
            <div class="text-success small" style="font-size: 0.75rem;">● Operational</div>
        </div>
    </div>
    <div class="text-end d-none d-md-block">
        <div class="text-white-50 small">Current Time</div>
        <div class="text-white small fw-bold">{% now "l, F jS Y" %}</div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const quoteEl = document.getElementById('dynamic-quote');
        const quotes = [
            "Your vote is your voice — use it wisely.",
            "Democracy is based upon the conviction that there are extraordinary possibilities in ordinary people.",
            "The ballot is stronger than the bullet.",
            "Bad officials are elected by good citizens who do not vote."
        ];
        
        let i = 0;
        setInterval(() => {
            quoteEl.style.opacity = 0;
            setTimeout(() => {
                i = (i + 1) % quotes.length;
                quoteEl.textContent = `“${quotes[i]}”`;
                quoteEl.style.opacity = 1;
            }, 500);
        }, 6000);
    });
</script>
{% endblock %}